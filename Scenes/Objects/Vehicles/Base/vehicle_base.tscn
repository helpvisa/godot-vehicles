[gd_scene load_steps=17 format=3 uid="uid://m0vo372ghciq"]

[ext_resource type="Script" path="res://Scripts/Objects/Vehicle/VehicleBase.gd" id="1_rv6nq"]
[ext_resource type="Resource" uid="uid://2odx3nsbk75e" path="res://Resources/Engines/base_engine.tres" id="2_8x85s"]
[ext_resource type="Resource" uid="uid://bd2ebcnarl2c" path="res://Resources/Transmissions/base_transmission.tres" id="3_d37vi"]
[ext_resource type="PackedScene" uid="uid://di60ndesnskpv" path="res://Scenes/Objects/Vehicles/Wheels/Testing/test_back_left.tscn" id="4_3tn5c"]
[ext_resource type="PackedScene" uid="uid://cq0vnqwols35p" path="res://Scenes/Objects/Vehicles/Wheels/Testing/test_back_right.tscn" id="5_yjfsj"]
[ext_resource type="PackedScene" uid="uid://ddj7mtns71vl6" path="res://Scenes/Objects/Vehicles/Wheels/Testing/test_front_left.tscn" id="6_60425"]
[ext_resource type="PackedScene" uid="uid://dmq73b1rxgf24" path="res://Scenes/Objects/Vehicles/Wheels/Testing/test_front_right.tscn" id="7_ahsy3"]
[ext_resource type="Script" path="res://Scripts/Controllers/SteeringController.gd" id="8_p1nep"]

[sub_resource type="PhysicsMaterial" id="PhysicsMaterial_raasi"]
friction = 0.75
bounce = 0.15

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_2wqsq"]
shading_mode = 0
albedo_color = Color(0.266667, 1, 0, 1)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_5qcvk"]
shading_mode = 0
albedo_color = Color(1, 0, 0, 1)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_1gtod"]
shading_mode = 0
albedo_color = Color(0, 0.282353, 1, 1)

[sub_resource type="FastNoiseLite" id="FastNoiseLite_7q00u"]

[sub_resource type="NoiseTexture2D" id="NoiseTexture2D_4icuk"]
width = 1024
height = 1024
seamless = true
seamless_blend_skirt = 1.0
as_normal_map = true
noise = SubResource("FastNoiseLite_7q00u")

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_4w3xr"]
albedo_color = Color(0.588235, 0.768627, 0.247059, 1)
metallic = 1.0
normal_enabled = true
normal_texture = SubResource("NoiseTexture2D_4icuk")
clearcoat_enabled = true
clearcoat_roughness = 0.15

[sub_resource type="BoxShape3D" id="BoxShape3D_terl1"]
size = Vector3(1.7, 1, 3.6)

[node name="VehicleBody" type="RigidBody3D" node_paths=PackedStringArray("wheels")]
mass = 1400.0
physics_material_override = SubResource("PhysicsMaterial_raasi")
center_of_mass_mode = 1
center_of_mass = Vector3(0, -0.5, 0)
can_sleep = false
continuous_cd = true
script = ExtResource("1_rv6nq")
engine = ExtResource("2_8x85s")
transmission = ExtResource("3_d37vi")
wheels = [NodePath("Wheels/test_back_left"), NodePath("Wheels/test_back_right"), NodePath("Wheels/test_front_left"), NodePath("Wheels/test_front_right")]
suspensionDebugMaterial = SubResource("StandardMaterial3D_2wqsq")
steeringDebugMaterial = SubResource("StandardMaterial3D_5qcvk")
accelerationDebugMaterial = SubResource("StandardMaterial3D_1gtod")

[node name="BodyModel" type="CSGBox3D" parent="."]
transform = Transform3D(0.999999, 0.00130407, -0.000448988, -0.00130356, 0.999999, 0.00115332, 0.000450486, -0.00115274, 0.999999, 0, 0, 0)
size = Vector3(1.7, 1, 3.6)
material = SubResource("StandardMaterial3D_4w3xr")

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
shape = SubResource("BoxShape3D_terl1")

[node name="Wheels" type="Node3D" parent="."]

[node name="test_back_left" parent="Wheels" instance=ExtResource("4_3tn5c")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.75, -0.5, 1.2)

[node name="test_back_right" parent="Wheels" instance=ExtResource("5_yjfsj")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.75, -0.5, 1.2)

[node name="test_front_left" parent="Wheels" instance=ExtResource("6_60425")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.75, -0.5, -1.2)

[node name="test_front_right" parent="Wheels" instance=ExtResource("7_ahsy3")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.75, -0.5, -1.2)

[node name="SteeringController" type="Node" parent="."]
script = ExtResource("8_p1nep")
steerSpeed = 5.0
